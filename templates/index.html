{% extends "layout.html" %}

{% block content %}

<div class="flex flex-col gap-8"> <!-- Dashboard Overview --> <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"> <div class="bg-white p-6 rounded-2xl shadow-lg border border-gray-200 text-center"> <h2 class="text-xl font-semibold text-gray-700">Total Sales</h2> <p class="text-4xl font-bold text-green-600 mt-2">${{ "%.2f" | format(total_sales) }}</p> </div> <div class="bg-white p-6 rounded-2xl shadow-lg border border-gray-200 text-center"> <h2 class="text-xl font-semibold text-gray-700">Total Items Sold</h2> <p class="text-4xl font-bold text-blue-600 mt-2">{{ total_items }}</p> </div> <div class="bg-white p-6 rounded-2xl shadow-lg border border-gray-200 text-center"> <h2 class="text-xl font-semibold text-gray-700">Active Transaction</h2> <p class="text-4xl font-bold text-yellow-600 mt-2"> <a href="{{ url_for('process_sales') }}" class="hover:underline">View</a> </p> </div> <div class="bg-white p-6 rounded-2xl shadow-lg border border-gray-200 text-center"> <h2 class="text-xl font-semibold text-gray-700">Sales History</h2> <p class="text-4xl font-bold text-purple-600 mt-2"> <a href="{{ url_for('sales_history') }}" class="hover:underline">View</a> </p> </div> </div>

<!-- Product List -->
<div class="bg-white p-8 rounded-2xl shadow-lg border border-gray-200">
    <h2 class="text-2xl font-bold text-gray-800 mb-4">Available Products</h2>
    <div class="overflow-x-auto">
        <table class="min-w-full divide-y divide-gray-200">
            <thead class="bg-gray-50">
                <tr>
                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Image</th>
                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Name</th>
                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Price</th>
                </tr>
            </thead>
            <tbody class="bg-white divide-y divide-gray-200">
                {% for product in products %}
                <tr>
                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">
                        {% if product.image_filename %}
                            <img src="{{ url_for('static', filename='uploads/' + product.image_filename) }}" alt="{{ product.name }}" class="w-12 h-12 object-cover rounded-md shadow">
                        {% else %}
                            <div class="w-12 h-12 bg-gray-200 rounded-md flex items-center justify-center text-gray-400">
                                <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 4-4v5z" clip-rule="evenodd" />
                                </svg>
                            </div>
                        {% endif %}
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">{{ product.name }}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${{ "%.2f" | format(product.price) }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>

</div> {% endblock %}
